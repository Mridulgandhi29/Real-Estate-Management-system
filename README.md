# Real-Estate-Management-system
# Real Estate Management System (Python + MongoDB)

A command-line and simple GUI application for managing property listings using MongoDB. Includes CRUD operations, indexed queries, aggregation, CSV export, bulk seeding, and a purchase workflow with transactional support (falls back for standalone servers).

---

## Project structure

* `/mnt/data/app.py` — Main CLI application with interactive menu (insert, list, search, update, delete, indexes, aggregate, export, purchase) fileciteturn1file0
* `/mnt/data/ui.py` — Simple Tkinter GUI wrapping the same functionality (filtering, insert dialog, update, delete, purchase, export) fileciteturn1file5
* `/mnt/data/bulk_insert.py` — Script to seed the database with 50 sample properties (used for testing/demo) fileciteturn1file1
* `/mnt/data/export_csv.py` — Standalone export script that writes `properties_export.csv` from the `properties` collection fileciteturn1file3
* `/mnt/data/db.py` — Database connection and collection handles; reads `MONGO_URI` from environment (uses `python-dotenv`) fileciteturn1file2
* `/mnt/data/requirements.txt` — Python dependencies for the project (`pymongo`, `pandas`, `python-dotenv`) fileciteturn1file4
* `/mnt/data/properties_export.csv` — Example/exported CSV (generated by `export_csv.py` / UI) (included in repo)
* `/mnt/data/run_ui.ps1` — PowerShell helper to start the UI (included in repo)

---

## Features

* CLI menu (via `app.py`) and a Tkinter GUI (`ui.py`) for convenience
* Insert, list (paginated in CLI), search by city/title (case-insensitive, partial match)
* Update price and delete properties
* Create indexes (`city`, `price`) to speed queries
* Aggregate average price per city
* Export all properties to `properties_export.csv`
* Bulk seed sample data (50 records) with `bulk_insert.py`
* Purchase flow demonstrating transactions — attempts transactions using sessions and falls back to a conditional update + insert when transactions are not supported

---

## Requirements

* Python 3.8+
* MongoDB (local or Atlas). Transactions require a replica set or Atlas cluster.

Install dependencies:

```bash
pip install -r requirements.txt
```

(Requirements listed in `/mnt/data/requirements.txt`) fileciteturn1file4

## Configuration

Create a `.env` file (optional) in the project root to set your MongoDB URI:

```
MONGO_URI="mongodb://localhost:27017"
```

`db.py` uses `MONGO_URI` from environment and exposes `client`, `properties_col`, `owners_col`, and `transactions_col` for the other scripts to import fileciteturn1file2.

---

## Quick start

1. Start MongoDB (or ensure Atlas URI is reachable).
2. (Optional) Create `.env` with your `MONGO_URI`.
3. Seed sample data (optional):

```bash
python /mnt/data/bulk_insert.py
```

4. Run CLI app:

```bash
python /mnt/data/app.py
```

5. Or run the GUI:

```bash
python /mnt/data/ui.py
```

(There is a `run_ui.ps1` helper included if you use Windows.)

---

## Exporting

* Use the GUI Export button or run `python /mnt/data/export_csv.py` to create `properties_export.csv` from the `properties` collection fileciteturn1file3.

---

## Notes & troubleshooting

* Transactions: `app.py` and `ui.py` attempt session transactions. If MongoDB is a standalone server, transactions will raise `OperationFailure` and the code will gracefully fall back to a non-transactional approach. See both `app.py` and `ui.py` for details and messages to the user fileciteturn1file0 fileciteturn1file5.
* `bulk_insert.py` inserts 50 well-distributed sample properties across cities for testing/demo fileciteturn1file1.
* `properties_export.csv` is included as an example export; exports stringify `_id` and include all present fields.

---






